<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>InfoPets - Página Inicial</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
  body {
    overflow-x: hidden;
  }

  .hero {
    background-image: url('https://via.placeholder.com/1500x500');
    background-size: cover;
    background-position: center;
    color: #fff;
    padding: 100px 0;
    text-align: center;
  }

  .hero h1 {
    font-size: 3.5rem;
    margin-bottom: 20px;
  }

  .hero p {
    font-size: 1.25rem;
    margin-bottom: 40px;
  }

  .search-form {
    margin-bottom: 50px;
  }

  .featured-listings {
    padding: 50px 0;
    background-color: #f8f9fa;
  }

  .listing-card {
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
    transition: all 0.3s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .listing-card img {
    max-width: 100%;
    height: auto;
    border-radius: 5px;
    margin-bottom: 15px;
    max-height: 200px;
    align-self: center;
  }

  .row {
    margin-bottom: 40px;
  }

  .listing-card h3,
  .listing-card p {
    text-align: center;
  }

  .listing-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
  }

  .listing-card p {
    margin-bottom: 20px;
  }

  .listing-card:not(:nth-child(3n)) {
    margin-right: 20px;
  }

  .footer {
    background-color: #343a40;
    color: #fff;
    padding: 20px 0;
  }

  #backcao {
    background-image:url("../src/cao2.jpg")
  }

  .profile-ball {
    width: 65px;
    height: 50px;
    overflow: hidden;
    margin: 0 auto;
    display: flex;
    font-size: 0;
  }

  .profile-ball img {
    border-radius: 50%;
    display: inline-block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    margin-right: 10px;
  }

  .greeting {
    display: inline-block;
    transform: translate(-50%, -50%);
    font-size: 24px;
    font-weight: bold;
    color: rgb(0, 0, 0);
    margin-right: 10px;
  }

  .btn-anuncie {
    background-color: #ff6f61;
    color: #fff;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    font-size: 1rem;
    transition: background-color 0.3s ease;
  }

  .btn-anuncie:hover {
    background-color: #e05044;
  }

  @media screen and (max-width: 767px) {
  .row {
    margin-bottom: 20px;
    margin-left: 0;
    margin-right: 0;
  }

  .listing-card {
    padding: 10px;
    margin-bottom: 10px;
  }

  .row:not(:first-child) .listing-card {
    margin-top: 20px;
  }
  .col-md-4 {
    padding-bottom: 20px;
  }
}
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <a class="navbar-brand" href="#">InfoPets</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li id="locateimgorlogin" class="nav-item">
          <a class="nav-link" href="../page_login/login/index.html">Fazer Login</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<section class="hero" id="backcao">
  <div class="container">
    <h1 class="display-3">Adote seu bichinho aqui!</h1>
    <p class="lead">Não compre, adote existem vários animais precisando de um lar.</p>
    <form class="search-form form-inline justify-content-center">
    </form>
  </div>
</section>



<!-- Featured Listings -->
<section class="featured-listings">
  <div id="container">
    <h2 class="text-center mb-4">Doações em Destaque</h2>
    <div class="text-center mb-4">
      <a class="btn btn-anuncie" href="../post/index.html">Doe agora</a>
    </div>
    <div class="row">
      <div class="col-md-4">
        <div class="listing-card">
          <img src="https://via.placeholder.com/300" alt="Anúncio 1">
          <h3>Imóvel em Destaque</h3>
          <p>R$ 500.000,00</p>
          <a href="#" class="btn btn-primary">Ver Detalhes</a>
        </div>
      </div>
      <div class="col-md-4">
        <div class="listing-card">
          <img src="https://via.placeholder.com/300" alt="Anúncio 2">
          <h3>Carro em Promoção</h3>
          <p>R$ 30.000,00</p>
          <a href="#" class="btn btn-primary">Ver Detalhes</a>
        </div>
      </div>
      <div class="col-md-4">
        <div class="listing-card">
          <img src="https://via.placeholder.com/300" alt="Anúncio 3">
          <h3>Eletrônicos em Oferta</h3>
          <p>R$ 1.500,00</p>
          <a href="#" class="btn btn-primary">Ver Detalhes</a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4">
        <div class="listing-card">
          <img src="https://via.placeholder.com/300" alt="Anúncio 3">
          <h3>Eletrônicos em Oferta</h3>
          <p>R$ 1.500,00</p>
          <a href="#" class="btn btn-primary">Ver Detalhes</a>
        </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="footer mt-auto py-3">
  <div class="container text-center">
    <span class="text-muted">Desenvolvido por Jubileu8888</span>
  </div>
</footer>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    function fazerRequisicao() {
      var xhr = new XMLHttpRequest();
      xhr.open('GET', '/verifyprofile', true);
      xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE) {
          if (xhr.status === 200) {
            var responseArray = JSON.parse(xhr.responseText);
            if (xhr.responseText == "NaN") {
              console.log("Não está logado");
            } else {
              var profileBall = document.createElement("a");
              profileBall.href = "../client/profile/view/index.html"
              profileBall.classList.add("profile-ball");


              var profileImage = document.createElement("img");
              profileImage.src = responseArray[0].img;
              profileImage.alt = "Imagem de Perfil";
              profileBall.appendChild(profileImage);

              var loginButton = document.getElementById("locateimgorlogin");
              loginButton.parentNode.replaceChild(profileBall, loginButton);
            }
          } else {
            console.error('Erro na requisição: ' + xhr.status);
          }
        }
      };
      xhr.send();
    };

    function srcad() {
      var xhr = new XMLHttpRequest();
      xhr.open('GET', '/srcposts', true);
      xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE) {
          if (xhr.status === 200) {
            var advertisementArray = JSON.parse(xhr.responseText);
            var listingContainer = document.getElementById('container');
            listingContainer.innerHTML = '';

            var title = document.createElement('h2');
            title.className = 'text-center mb-4';
            title.textContent = 'Doações em Destaque';
            listingContainer.appendChild(title);

            var btn = document.createElement('div');
            btn.className = 'text-center mb-4';
            var link = document.createElement('a');
            link.className = 'btn btn-anuncie';
            link.href = '../post/index.html';
            link.textContent = 'Doe agora';
            btn.appendChild(link);
            listingContainer.appendChild(btn);

            var row = document.createElement('div');
            row.className = 'row';
            listingContainer.appendChild(row);

            for (var i = 0; i < advertisementArray.length; i++) {
              var advertisement = advertisementArray[i];

              var colDiv = document.createElement('div');
              colDiv.className = 'col-md-4';

              var listingCard = document.createElement('div');
              listingCard.className = 'listing-card';

              var img = document.createElement('img');
              img.src = advertisement.images;
              img.alt = advertisement.title;

              var h3 = document.createElement('h3');
              h3.textContent = advertisement.title;

              var p = document.createElement('p');
              p.textContent = advertisement.description;

              var btn = document.createElement('button');
              btn.onclick = details;
              btn.id = `${advertisement.id}`
              btn.className = 'btn btn-primary';
              btn.textContent = 'Ver Detalhes';

              listingCard.appendChild(img);
              listingCard.appendChild(h3);
              listingCard.appendChild(p);
              listingCard.appendChild(btn);

              colDiv.appendChild(listingCard);

              row.appendChild(colDiv);

              if ((i + 1) % 3 === 0 && i !== advertisementArray.length - 1) {
                row = document.createElement('div');
                row.className = 'row';
                listingContainer.appendChild(row);
              }
            }
          } else {
            console.error('Erro na requisição: ' + xhr.status);
          }
        }
    };
    xhr.send();
  }
  function details(event) {
    var buttonClicked = event.target;
    var advertisementId = buttonClicked.id;
    window.location.href = '/post/details/detail.html?id=' + advertisementId;
  }

    fazerRequisicao();
    srcad();
  });
</script>

</body>
</html>
